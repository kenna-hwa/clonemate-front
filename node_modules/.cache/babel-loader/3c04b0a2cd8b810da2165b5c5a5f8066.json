{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\soomin\\\\clonemate-front\\\\src\\\\components\\\\main\\\\CalendarBox.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\nimport { Paper, Grid } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { ko } from \"date-fns/locale\";\nimport { useRecoilState, useRecoilValue } from \"recoil\";\nimport '../../stylesheets/CalendarBox.css';\nimport { objFeedCalendarOverview } from \"../../atoms/todoData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const styles = makeStyles(() => ({\n  //define CSS for different date types\n  notInThisMonthDayPaper: {\n    visibility: \"hidden\",\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#00000000\",\n    fontSize: \"0.825em\",\n    textAlign: \"center\",\n    margin: \"11px\",\n    padding: \"1px\"\n  },\n  normalDayPaper: {\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#70707030\",\n    margin: \"11px\",\n    padding: \"1px\",\n    cursor: \"pointer\"\n  },\n  normalDayNum: {\n    fontSize: \"0.5em\",\n    textAlign: \"center\",\n    color: \"#707070\",\n    position: \"relative\",\n    top: \"3em\"\n  },\n  selectedDayPaper: {\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#70707030\",\n    margin: \"11px\",\n    padding: \"1px\",\n    cursor: \"pointer\"\n  },\n  selectedDayNum: {\n    fontSize: \"0.5em\",\n    fontWeight: \"700\",\n    textAlign: \"center\",\n    textDecoration: \"underline\",\n    color: \"#000\",\n    position: \"relative\",\n    top: \"3em\"\n  },\n  hasTodoDayPaper: {\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#70707080\",\n    margin: \"11px\",\n    padding: \"1px\",\n    cursor: \"pointer\"\n  },\n  hasTodoDayNum: {\n    fontSize: \"0.5em\",\n    textAlign: \"center\",\n    color: \"#707070\",\n    position: \"relative\",\n    top: \"3em\"\n  },\n  CheckedTodoDayPaper: {\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#21bdbd\",\n    margin: \"11px\",\n    padding: \"1px\",\n    cursor: \"pointer\"\n  },\n  CheckedTodoDayNum: {\n    fontSize: \"0.5em\",\n    fontWeight: \"700\",\n    textAlign: \"center\",\n    color: \"#21bdbd90\",\n    position: \"relative\",\n    top: \"3em\"\n  },\n  todayPaper: {\n    width: \"18px\",\n    height: \"18px\",\n    backgroundColor: \"#70707030\",\n    margin: \"11px\",\n    padding: \"1px\",\n    cursor: \"pointer\"\n  },\n  todayNum: {\n    fontSize: \"0.5em\",\n    fontWeight: \"600\",\n    color: \"#222\",\n    textAlign: \"center\",\n    position: \"relative\",\n    top: \"3em\"\n  }\n}));\nexport default function CalendarBox(props) {\n  _s();\n\n  //컴포넌트 실행 시 서버에서 처음 값 받아오기 여기서 ajax\n  // useEffect(() => {\n  //     dtFeedCalendarOverview();\n  // }, []);\n  //ajax 통신을 통해 받아온 값 (numCountTodo, numTodoCount, completeYn)\n  let dtFeedCalendarOverview = useRecoilValue(objFeedCalendarOverview);\n  const today = new Date(); // 오늘 날짜 객체\n\n  const classes = styles(); // import those CSS\n\n  const [selectedDate, setselectedDate] = useState(new Date()); //현재 선택된 날짜 state -> Feed 불러낼 때 사용\n\n  let todoObj = {}; // 데이터가 있는 날\n\n  const theDayhasTodoArr = dtFeedCalendarOverview.map((data, i) => data.arrTodoInfo[0].numTodoDay); // console.log('theDayhasTodoArr',theDayhasTodoArr)\n  // 데이터가 있는 날 : todo 갯수 / 데이터가 모두 완료된 날 \n\n  dtFeedCalendarOverview.map((item, i) => todoObj[item.arrTodoInfo[0].numTodoDay] = item.arrTodoInfo[0].ynComplete !== 'Y' ? item.arrTodoInfo[0].numTodoCount : '✓'); // console.log('todoObj',todoObj)\n  //날짜 타일 변경 함수\n\n  function getDayElement(day, selectedDate, isInCurrentMonth, dayComponent) {\n    //boolean 으로 바꿔주는 작업\n    //데이터가 있을 때 (todoData = todo 데이터가 있는 날짜) -> true\n    const isHasTodoData = theDayhasTodoArr.includes(day.getDate()); //클릭된 날짜 \n\n    const isSelected = day.getDate() === selectedDate.getDate(); //오늘 날짜\n\n    const isToday = day.getDate() === today.getDate() && day.getMonth() === today.getMonth(); //dateTile 생성\n\n    let dateTile;\n\n    if (isInCurrentMonth) {\n      //데이터 타일 반환\n      if (isHasTodoData) {\n        //HasTodoData가 있을 때 = todo가 있는 날 -> 갯수 표시 todoChecked가 y 면 색상변환 \n        let d = day.getDate(); // console.log(todoObj, d)\n        // console.log('todoObj[d]', todoObj[d])\n\n        dateTile = /*#__PURE__*/_jsxDEV(Paper, {\n          className: isNaN(todoObj[d]) ? classes.CheckedTodoDayPaper : isHasTodoData ? classes.hasTodoDayPaper : isSelected ? classes.selectedDayPaper : isToday ? classes.todayPaper : classes.normalDayPaper,\n          ref: isNaN(todoObj[d]) ? classes.CheckedTodoDayPaper : isHasTodoData ? classes.hasTodoDayPaper : isSelected ? classes.selectedDayPaper : isToday ? classes.todayPaper : classes.normalDayPaper,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            className: isNaN(todoObj[d]) ? classes.CheckedTodoDayNum : isHasTodoData ? classes.hasTodoDayNum : isSelected ? classes.selectedDayNum : isToday ? classes.todayNum : classes.normalDayNum,\n            children: day.getDate()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 25\n          }, this), isHasTodoData ? /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"todoDataNum\",\n            children: todoObj[d]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 40\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 21\n        }, this);\n      } else {\n        dateTile = /*#__PURE__*/_jsxDEV(Paper, {\n          className: isSelected ? classes.selectedDayPaper : isToday ? classes.todayPaper : classes.normalDayPaper,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            className: isSelected ? classes.selectedDayNum : isToday ? classes.todayNum : classes.normalDayNum,\n            children: [\" \", day.getDate()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 17\n        }, this);\n      }\n    } else {\n      dateTile = /*#__PURE__*/_jsxDEV(Paper, {\n        className: classes.notInThisMonthDayPaper,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          className: isSelected ? classes.selectedDayNum : isToday ? classes.todayNum : classes.normalDayNum,\n          children: day.getDate()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 25\n      }, this);\n    }\n\n    return dateTile;\n  }\n\n  return /*#__PURE__*/_jsxDEV(MuiPickersUtilsProvider, {\n    locale: ko,\n    utils: DateFnsUtils,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"yearMM\",\n      children: `${today.getFullYear()}년 ${today.getMonth() + 1}월`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n      value: selectedDate,\n      onChange: setselectedDate //클릭하면 selectedDate (선택한 날짜로 보냄)\n      ,\n      variant: \"static\",\n      inputFormat: \"yyyy-MM-dd\",\n      mask: \"____-__-__\" //renderDay props로 getDayElement 전달\n      ,\n      renderDay: (day, selectedDate, isInCurrentMonth, dayComponent) => getDayElement(day, selectedDate, isInCurrentMonth, dayComponent)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 188,\n    columnNumber: 11\n  }, this);\n}\n\n_s(CalendarBox, \"zhnaOO1qB4n01C7CBlwq/s6j8V8=\", false, function () {\n  return [useRecoilValue];\n});\n\n_c = CalendarBox;\n\nvar _c;\n\n$RefreshReg$(_c, \"CalendarBox\");","map":{"version":3,"sources":["C:/Users/soomin/clonemate-front/src/components/main/CalendarBox.js"],"names":["React","useEffect","useState","DateFnsUtils","DatePicker","MuiPickersUtilsProvider","Paper","Grid","makeStyles","ko","useRecoilState","useRecoilValue","objFeedCalendarOverview","styles","notInThisMonthDayPaper","visibility","width","height","backgroundColor","fontSize","textAlign","margin","padding","normalDayPaper","cursor","normalDayNum","color","position","top","selectedDayPaper","selectedDayNum","fontWeight","textDecoration","hasTodoDayPaper","hasTodoDayNum","CheckedTodoDayPaper","CheckedTodoDayNum","todayPaper","todayNum","CalendarBox","props","dtFeedCalendarOverview","today","Date","classes","selectedDate","setselectedDate","todoObj","theDayhasTodoArr","map","data","i","arrTodoInfo","numTodoDay","item","ynComplete","numTodoCount","getDayElement","day","isInCurrentMonth","dayComponent","isHasTodoData","includes","getDate","isSelected","isToday","getMonth","dateTile","d","isNaN","getFullYear"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { DatePicker, MuiPickersUtilsProvider } from '@material-ui/pickers';\r\nimport {Paper, Grid} from \"@material-ui/core\";\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport { ko } from \"date-fns/locale\";\r\nimport { useRecoilState, useRecoilValue } from \"recoil\";\r\n\r\nimport '../../stylesheets/CalendarBox.css';\r\nimport { objFeedCalendarOverview } from \"../../atoms/todoData\";\r\n\r\n\r\nexport const styles = makeStyles(() => ({ //define CSS for different date types\r\n    notInThisMonthDayPaper: {\r\n        visibility: \"hidden\",\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#00000000\",\r\n        fontSize: \"0.825em\",\r\n        textAlign: \"center\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n    },\r\n    normalDayPaper: {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#70707030\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n        cursor: \"pointer\",\r\n    },  \r\n    normalDayNum: {\r\n        fontSize: \"0.5em\",\r\n        textAlign: \"center\",\r\n        color: \"#707070\",\r\n        position: \"relative\",\r\n        top: \"3em\"\r\n    },\r\n    selectedDayPaper: {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#70707030\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n        cursor: \"pointer\",\r\n    },\r\n    selectedDayNum: {\r\n        fontSize: \"0.5em\",\r\n        fontWeight: \"700\",\r\n        textAlign: \"center\",\r\n        textDecoration: \"underline\",\r\n        color: \"#000\",\r\n        position: \"relative\",\r\n        top: \"3em\"\r\n    },\r\n    hasTodoDayPaper: {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#70707080\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n        cursor: \"pointer\",\r\n    },\r\n    hasTodoDayNum: {\r\n        fontSize: \"0.5em\",\r\n        textAlign: \"center\",\r\n        color: \"#707070\",\r\n        position: \"relative\",\r\n        top: \"3em\"\r\n    },\r\n    CheckedTodoDayPaper: {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#21bdbd\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n        cursor: \"pointer\",\r\n    },\r\n    CheckedTodoDayNum: {\r\n        fontSize: \"0.5em\",\r\n        fontWeight: \"700\",\r\n        textAlign: \"center\",\r\n        color: \"#21bdbd90\",\r\n        position: \"relative\",\r\n        top: \"3em\"\r\n    },\r\n    todayPaper: {\r\n        width: \"18px\",\r\n        height: \"18px\",\r\n        backgroundColor: \"#70707030\",\r\n        margin: \"11px\",\r\n        padding: \"1px\",\r\n        cursor: \"pointer\",\r\n    },\r\n    todayNum: {\r\n        fontSize: \"0.5em\",\r\n        fontWeight: \"600\",\r\n        color: \"#222\",\r\n        textAlign: \"center\",\r\n        position: \"relative\",\r\n        top: \"3em\"\r\n    },\r\n\r\n\r\n}));\r\n\r\nexport default function CalendarBox(props) {\r\n\r\n//컴포넌트 실행 시 서버에서 처음 값 받아오기 여기서 ajax\r\n\r\n// useEffect(() => {\r\n//     dtFeedCalendarOverview();\r\n// }, []);\r\n\r\n\r\n    \r\n    //ajax 통신을 통해 받아온 값 (numCountTodo, numTodoCount, completeYn)\r\n    let dtFeedCalendarOverview = useRecoilValue(objFeedCalendarOverview);\r\n\r\n \r\n\r\n    const today = new Date(); // 오늘 날짜 객체\r\n    const classes = styles(); // import those CSS\r\n    const [selectedDate, setselectedDate] = useState(new Date()); //현재 선택된 날짜 state -> Feed 불러낼 때 사용\r\n    let todoObj = {};\r\n\r\n    // 데이터가 있는 날\r\n    const theDayhasTodoArr = dtFeedCalendarOverview.map((data,i) => data.arrTodoInfo[0].numTodoDay);\r\n    // console.log('theDayhasTodoArr',theDayhasTodoArr)\r\n    // 데이터가 있는 날 : todo 갯수 / 데이터가 모두 완료된 날 \r\n    dtFeedCalendarOverview.map((item, i) =>  todoObj[item.arrTodoInfo[0].numTodoDay] = item.arrTodoInfo[0].ynComplete!=='Y'? item.arrTodoInfo[0].numTodoCount : '✓');\r\n    // console.log('todoObj',todoObj)\r\n\r\n    //날짜 타일 변경 함수\r\n    function getDayElement(day, selectedDate, isInCurrentMonth, dayComponent) {\r\n\r\n\r\n        //boolean 으로 바꿔주는 작업\r\n        //데이터가 있을 때 (todoData = todo 데이터가 있는 날짜) -> true\r\n        const isHasTodoData = theDayhasTodoArr.includes(day.getDate()); \r\n\r\n\r\n        //클릭된 날짜 \r\n        const isSelected = day.getDate() === selectedDate.getDate();\r\n        //오늘 날짜\r\n        const isToday = day.getDate() === today.getDate() && day.getMonth() === today.getMonth();\r\n\r\n\r\n        //dateTile 생성\r\n        let dateTile\r\n\r\n        if (isInCurrentMonth) { //데이터 타일 반환\r\n            if (isHasTodoData) { //HasTodoData가 있을 때 = todo가 있는 날 -> 갯수 표시 todoChecked가 y 면 색상변환 \r\n\r\n                let d = day.getDate();\r\n                // console.log(todoObj, d)\r\n                // console.log('todoObj[d]', todoObj[d])\r\n\r\n                dateTile = (\r\n                    <Paper className={isNaN(todoObj[d])? classes.CheckedTodoDayPaper : isHasTodoData? classes.hasTodoDayPaper : isSelected ? classes.selectedDayPaper : isToday ? classes.todayPaper : classes.normalDayPaper } ref={isNaN(todoObj[d])? classes.CheckedTodoDayPaper : isHasTodoData? classes.hasTodoDayPaper : isSelected? classes.selectedDayPaper : isToday? classes.todayPaper : classes.normalDayPaper}>\r\n                        <Grid className={isNaN(todoObj[d])? classes.CheckedTodoDayNum : isHasTodoData? classes.hasTodoDayNum : isSelected? classes.selectedDayNum : isToday? classes.todayNum : classes.normalDayNum}>\r\n                            {day.getDate()}\r\n                        </Grid>\r\n                       {isHasTodoData? <span className='todoDataNum'>{todoObj[d]}</span> : null}\r\n                    </Paper>\r\n                    )\r\n            } else {\r\n                dateTile = (\r\n                <Paper className={isSelected ? classes.selectedDayPaper : isToday ? classes.todayPaper : classes.normalDayPaper}>   \r\n                    <Grid className={isSelected? classes.selectedDayNum : isToday? classes.todayNum : classes.normalDayNum}> {day.getDate()}</Grid>\r\n                </Paper>)\r\n            }\r\n        } \r\n        else {\r\n            dateTile = (<Paper className={classes.notInThisMonthDayPaper}>\r\n                <Grid className={isSelected? classes.selectedDayNum : isToday? classes.todayNum : classes.normalDayNum}>\r\n                    {day.getDate()}\r\n                </Grid>\r\n            </Paper>)\r\n\r\n        }\r\n        return dateTile;\r\n    }\r\n\r\n  \r\n\r\n    return(\r\n          <MuiPickersUtilsProvider locale={ko} utils={DateFnsUtils} >\r\n              <span className='yearMM'>{`${today.getFullYear()}년 ${today.getMonth()+1}월`}</span>\r\n                <DatePicker\r\n                    value={selectedDate}\r\n                    onChange={setselectedDate} //클릭하면 selectedDate (선택한 날짜로 보냄)\r\n                    variant=\"static\"\r\n                    inputFormat={\"yyyy-MM-dd\"}\r\n                    mask={\"____-__-__\"}\r\n                    //renderDay props로 getDayElement 전달\r\n                    renderDay={(day, selectedDate, isInCurrentMonth, dayComponent) => getDayElement(day, selectedDate, isInCurrentMonth, dayComponent)}\r\n\r\n                />\r\n        </MuiPickersUtilsProvider>\r\n    );\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}